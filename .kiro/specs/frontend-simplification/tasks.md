# 前端设计稿简化 - 任务清单

## 概述

本任务清单将设计文档转换为可执行的开发任务。每个任务都是离散的、可管理的步骤，专注于代码的编写、修改和测试。

## 任务列表

- [x] 1. 删除不必要的文件和文档
  - 删除 `frontend/template-edit.html`
  - 删除 `frontend/DEMO-GUIDE.md`
  - 删除 `frontend/MODAL-INTERACTION-GUIDE.md`
  - 删除 `frontend/IMPLEMENTATION-SUMMARY.md`
  - 删除 `frontend/INTERACTION-ENHANCEMENTS.md`
  - 删除 `frontend/MODAL-FEATURES.md`
  - 删除 `frontend/RULE-CONFIG-DEMO.md`
  - _需求：10.1, 10.2_

- [x] 2. 简化仪表板页面 - 删除新建项目功能
  - [x] 2.1 从 `dashboard.html` 删除"新建项目"按钮
    - 删除按钮 HTML 代码
    - 删除 `newProjectModal` 整个模态框结构
    - _需求：6.1_
  
  - [x] 2.2 从 `interactions.js` 删除新建项目相关函数
    - 删除 `openNewProjectModal()` 函数
    - 删除 `closeNewProjectModal()` 函数
    - 删除 `initNewProjectForm()` 函数
    - 删除相关的事件监听器
    - _需求：6.1_
  
  - [x] 2.3 测试仪表板功能
    - 验证项目列表正常显示
    - 验证筛选和搜索功能正常
    - 验证点击项目卡片跳转正常
    - _需求：1.1, 1.2_

- [-] 3. 大幅简化规则配置页面
  - [x] 3.1 删除复杂的标签页和模态框
    - 从 `rule-config.html` 删除"项目模板"标签页
    - 删除"阶段配置"标签页
    - 删除 `stageModal` 整个模态框结构
    - 删除 `documentRuleModal` 整个模态框结构
    - 删除 `aiRuleModal` 整个模态框结构
    - 删除模板编辑页面的链接
    - _需求：5.1, 5.2, 5.4_
  
  - [x] 3.2 创建简化的规则模态框
    - 在 `rule-config.html` 中添加 `simpleRuleModal` HTML 结构
    - 包含字段：规则名称、规则类型、目标文档、预警文案
    - 添加动态字段区域（关键词列表、最少数量、必需章节）
    - _需求：5.3, 5.5_
  
  - [x] 3.3 实现简化的规则配置 JavaScript
    - 在 `interactions.js` 中添加 `openSimpleRuleModal()` 函数
    - 添加 `closeSimpleRuleModal()` 函数
    - 添加 `updateRuleFields(ruleType)` 函数（动态显示字段）
    - 添加规则表单提交和验证逻辑
    - _需求：5.3, 5.5_
  
  - [x] 3.4 删除复杂规则相关的 JavaScript 代码
    - 从 `interactions.js` 删除 `openStageModal()` 函数
    - 删除 `openDocumentRuleModal()` 函数
    - 删除 `openAIRuleModal()` 函数
    - 删除 `initStageDynamicFields()` 函数
    - 删除 `initAIRuleDynamicFields()` 函数
    - 删除所有相关的表单提交函数
    - _需求：5.4_
  
  - [x] 3.5 测试简化的规则配置功能
    - 验证打开规则模态框
    - 验证规则类型切换时字段动态显示
    - 验证表单验证逻辑
    - 验证规则保存成功提示
    - _需求：5.3, 5.5_

- [x] 4. 检查点 - 确保删除和简化工作完成
  - 确保所有测试通过，询问用户是否有问题

- [x] 5. 实现历史阶段查看功能
  - [x] 5.1 在立项阶段详情页添加历史阶段面板
    - 在 `project-detail-initiation.html` 的阶段进度条下方添加"历史阶段"区域
    - 由于立项是第一阶段，此页面不显示历史阶段（或显示空状态）
    - _需求：2.1, 2.2_
  
  - [x] 5.2 在招标阶段详情页添加历史阶段面板
    - 在 `project-detail-bidding.html` 添加历史阶段折叠面板
    - 显示"立项阶段"的历史数据（完成时间、文档状态、文档列表）
    - _需求：2.2, 2.3, 2.4_
  
  - [x] 5.3 在实施阶段详情页添加历史阶段面板
    - 在 `project-detail.html` 添加历史阶段折叠面板
    - 显示"立项阶段"和"招标阶段"的历史数据
    - _需求：2.2, 2.3, 2.4_
  
  - [x] 5.4 在验收阶段详情页添加历史阶段面板
    - 在 `project-detail-acceptance.html` 添加历史阶段折叠面板
    - 显示"立项阶段"、"招标阶段"、"实施阶段"的历史数据
    - _需求：2.2, 2.3, 2.4_
  
  - [x] 5.5 实现历史阶段折叠/展开 JavaScript
    - 在 `interactions.js` 中添加 `toggleHistoryStage(stageId)` 函数
    - 实现折叠面板的展开/收起动画
    - 实现箭头图标的旋转动画
    - _需求：2.3_
  
  - [x] 5.6 准备历史阶段示例数据
    - 在每个阶段详情页中添加示例历史数据
    - 确保数据结构符合设计文档中的 `StageData` 接口
    - _需求：2.2, 2.3_
  
  - [x] 5.7 测试历史阶段查看功能
    - 验证折叠面板的展开/收起交互
    - 验证历史数据正确显示
    - 验证只读模式（历史阶段不可编辑）
    - 验证不同阶段页面显示正确的历史阶段数量
    - _需求：2.2, 2.3, 2.4, 2.5_

- [x] 6. 检查点 - 确保历史阶段功能完成
  - 确保所有测试通过，询问用户是否有问题

- [x] 7. 实现查重报告展示功能
  - [x] 7.1 在项目详情页添加查重报告入口
    - 在四个阶段详情页的文档清单中添加"查看查重报告"按钮
    - 仅在文档完成查重后显示按钮
    - _需求：7.1_
  
  - [x] 7.2 创建查重报告模态框
    - 创建 `duplicateReportModal` HTML 结构
    - 包含标题栏、相似度概览、双栏对比视图、重复片段列表
    - _需求：7.2, 7.3_
  
  - [x] 7.3 实现双栏对比视图
    - 左侧显示当前文档内容
    - 右侧显示参考文档内容
    - 高亮显示重复片段（黄色背景）
    - _需求：7.3_
  
  - [x] 7.4 实现查重报告 JavaScript
    - 在 `interactions.js` 中添加 `openDuplicateReport(docId)` 函数
    - 添加 `closeDuplicateReport()` 函数
    - 实现查重数据的加载和渲染
    - 实现重复片段的高亮显示
    - _需求：7.2, 7.3_
  
  - [x] 7.5 实现同步滚动功能
    - 监听左右两侧滚动事件
    - 实现滚动位置同步
    - _需求：7.4_
  
  - [x] 7.6 准备查重报告示例数据
    - 创建示例查重报告数据
    - 包含相似度、重复片段、参考文档信息
    - 确保数据结构符合设计文档中的 `DuplicateReport` 接口
    - _需求：7.2_
  
  - [x] 7.7 测试查重报告功能
    - 验证查重报告模态框打开和关闭
    - 验证相似度和重复片段正确显示
    - 验证双栏对比视图的高亮显示
    - 验证同步滚动功能
    - _需求：7.1, 7.2, 7.3, 7.4_

- [x] 8. 检查点 - 确保查重报告功能完成
  - 确保所有测试通过，询问用户是否有问题

- [x] 9. 更新文档和最终测试
  - [x] 9.1 更新 README.md
    - 更新页面列表，删除已删除的页面
    - 更新功能说明，反映简化后的功能
    - 更新页面导航关系图
    - 添加历史阶段查看和查重报告功能的说明
    - _需求：10.4_
  
  - [x] 9.2 更新快速开始.md
    - 更新页面列表
    - 删除已删除功能的说明
    - 添加新功能的使用说明
    - _需求：10.4_
  
  - [x] 9.3 执行完整的功能测试
    - 测试所有保留页面的核心功能
    - 测试页面间的导航跳转
    - 测试新增的历史阶段和查重报告功能
    - 验证删除的功能确实已移除
    - _需求：1.1, 1.2, 1.3_
  
  - [x] 9.4 执行性能测试
    - 测试页面加载时间 < 2 秒
    - 测试历史阶段展开响应时间 < 500ms
    - 测试查重报告打开时间 < 1 秒
    - _需求：1.3_

- [x] 10. 最终检查点
  - 确保所有任务完成，所有测试通过
  - 询问用户是否满意简化结果

## 注意事项

- 每个任务都应该独立完成，不要跳过步骤
- 删除代码前先备份或使用版本控制
- 所有测试任务都是必需的，确保质量
- 遇到问题时及时向用户反馈
- 保持代码风格和设计系统的一致性

## 预计工作量

- 任务 1-4（删除和简化）：2 天
- 任务 5-6（历史阶段）：2.5 天
- 任务 7-8（查重报告）：2.5 天
- 任务 9-10（文档和测试）：1.5 天

**总计：8.5 个工作日**
