# 需求文档 - 项目质控助手流程优化前端

## 介绍

本文档定义了基于 0126 版流程图的项目质控助手前端优化需求。该系统在现有功能基础上,新增文档结构化提取、合规性检查、数据比对和预警管理等核心功能,实现从文档输入到预警输出的完整闭环。

## 术语表

- **系统（System）**: 项目质控助手前端系统
- **用户（User）**: 使用系统的项目管理人员或质控人员
- **文档（Document）**: 立项、招标、合同等项目文档
- **结构化内容（Structured_Content）**: 从文档中提取的结构化数据
- **合规性检查（Compliance_Check）**: 立项、招投标、合同内容的一致性检查
- **数据比对（Data_Comparison）**: 提取内容与生产管理系统数据的比对
- **预警（Alert）**: 系统生成的风险提示
- **雅办公（YaBanGong）**: 企业内部办公系统
- **语义比对（Semantic_Matching）**: 基于语义的文本相似度比对

## 需求

### 需求 1: 文档上传与同步功能

**用户故事:** 作为项目管理员,我想要上传多种格式的项目文档或从生产管理系统同步文档,以便系统能够自动提取结构化内容。

#### 验收标准

1. THE 系统 SHALL 支持上传 Excel、Word、PDF 格式的文档
2. THE 系统 SHALL 提供"从生产管理系统同步"按钮
3. THE 系统 SHALL 在同一界面同时显示"上传文档"和"同步文档"两个操作入口
4. WHEN 用户点击"同步文档"按钮 THEN THE 系统 SHALL 从生产管理系统拉取最新文档
5. WHEN 生产管理系统不可用 THEN THE 系统 SHALL 显示提示信息并引导用户使用手动上传
6. WHEN 用户拖拽文件到上传区域 THEN THE 系统 SHALL 接受文件并显示上传进度
7. WHEN 用户点击"上传文档"按钮 THEN THE 系统 SHALL 打开文件选择对话框
8. WHEN 文件格式不支持 THEN THE 系统 SHALL 显示错误提示并拒绝上传
9. WHEN 文件大小超过 50MB THEN THE 系统 SHALL 显示错误提示并拒绝上传
10. THE 系统 SHALL 在上传或同步成功后显示文件名、大小、来源(手动上传/系统同步)和时间
11. THE 系统 SHALL 支持同时上传多个文档
12. THE 系统 SHALL 为每个文档分配文档类型标签(立项/招标/合同)
13. WHEN 用户选择文档类型 THEN THE 系统 SHALL 根据类型应用相应的提取规则
14. THE 系统 SHALL 在上传或同步完成后自动触发结构化提取任务
15. THE 系统 SHALL 标注文档来源,区分手动上传和系统同步

### 需求 2: 项目金额与付款结构化内容展示

**用户故事:** 作为财务人员,我想要查看从文档中提取的项目金额和付款信息,以便核对财务数据。

#### 验收标准

1. THE 系统 SHALL 展示项目金额与付款结构化内容模块
2. THE 系统 SHALL 显示以下字段:含税价格、税率、不含税价格、增值税
3. THE 系统 SHALL 显示付款条件列表,包括第1次到第N次付款条件
4. THE 系统 SHALL 显示付款期限信息
5. WHEN 提取内容来自合同文件 THEN THE 系统 SHALL 优先显示合同数据
6. WHEN 合同文件不存在 THEN THE 系统 SHALL 显示招投标文件数据
7. WHEN 招投标文件不存在 THEN THE 系统 SHALL 显示立项文件数据
8. THE 系统 SHALL 为每个字段标注数据来源(合同/招标/立项)
9. THE 系统 SHALL 支持用户手动编辑提取的内容
10. THE 系统 SHALL 在字段旁边显示置信度指示器

### 需求 3: 项目进度结构化内容展示

**用户故事:** 作为项目经理,我想要查看从文档中提取的项目进度信息,以便规划项目时间线。

#### 验收标准

1. THE 系统 SHALL 展示项目进度结构化内容模块
2. THE 系统 SHALL 显示项目开始时间点
3. THE 系统 SHALL 显示合同约定总体项目周期
4. THE 系统 SHALL 显示需求调研与方案设计时间节点
5. THE 系统 SHALL 显示开发上线时间节点
6. THE 系统 SHALL 显示上线试运行周期
7. THE 系统 SHALL 显示初验时间节点
8. THE 系统 SHALL 显示终验时间节点
9. THE 系统 SHALL 显示运维时间周期
10. THE 系统 SHALL 以时间轴形式可视化展示所有时间节点
11. THE 系统 SHALL 标注每个时间节点的数据来源
12. THE 系统 SHALL 支持用户手动调整时间节点

### 需求 4: 交付成果结构化内容展示

**用户故事:** 作为质控人员,我想要查看各阶段的交付物清单,以便检查交付物完整性。

#### 验收标准

1. THE 系统 SHALL 展示交付成果结构化内容模块
2. THE 系统 SHALL 按阶段分组显示交付物:需求调研与方案设计、开发上线、上线试运行、初验、终验、运维
3. FOR EACH 阶段 THE 系统 SHALL 显示该阶段的交付物列表
4. FOR EACH 交付物 THE 系统 SHALL 显示交付物名称和要求描述
5. THE 系统 SHALL 标注交付物的数据来源(合同/招标/立项)
6. THE 系统 SHALL 支持用户添加、编辑、删除交付物
7. THE 系统 SHALL 为每个交付物提供状态标记(待提交/已提交/已验收)
8. THE 系统 SHALL 支持上传交付物文件
9. THE 系统 SHALL 显示交付物的提交时间和验收时间
10. THE 系统 SHALL 支持导出交付物清单

### 需求 5: 人员要求结构化内容展示

**用户故事:** 作为人力资源管理员,我想要查看项目人员要求,以便安排合适的人员。

#### 验收标准

1. THE 系统 SHALL 展示人员要求结构化内容模块
2. THE 系统 SHALL 显示项目经理资质要求
3. THE 系统 SHALL 显示项目经理业绩要求
4. THE 系统 SHALL 显示建设期现场驻场人员要求
5. THE 系统 SHALL 显示运维期现场运维人员要求
6. THE 系统 SHALL 显示证明材料要求
7. THE 系统 SHALL 标注每项要求的数据来源
8. THE 系统 SHALL 支持用户编辑人员要求
9. THE 系统 SHALL 显示当前项目实际人员配置
10. THE 系统 SHALL 对比要求与实际配置,标注差异

### 需求 6: 合规性自动检查界面

**用户故事:** 作为质控人员,我想要查看立项、招投标、合同之间的一致性检查结果,以便发现潜在风险。

#### 验收标准

1. THE 系统 SHALL 展示合规性检查结果面板
2. THE 系统 SHALL 检查合同与招标文件的项目进度要求一致性
3. THE 系统 SHALL 检查投标文件内的人员数量与招标文件的一致性
4. THE 系统 SHALL 检查招标文件要求的人员证明材料是否在投标文件中缺失
5. THE 系统 SHALL 检查人员资质与证明材料是否达到招标文件要求
6. WHEN 发现不一致 THEN THE 系统 SHALL 以红色高亮显示问题项
7. WHEN 发现不一致 THEN THE 系统 SHALL 显示详细的差异说明
8. THE 系统 SHALL 为每个问题项提供"标记为已知"和"忽略"操作
9. THE 系统 SHALL 统计合规性问题数量并显示在顶部
10. THE 系统 SHALL 支持导出合规性检查报告

### 需求 7: 人工校验修正界面

**用户故事:** 作为质控人员,我想要对 AI 提取的内容进行人工校验和修正,以确保数据准确性。

#### 验收标准

1. WHEN 合规性检查发现问题 THEN THE 系统 SHALL 提供"人工校验修正"入口
2. THE 系统 SHALL 展示左右分屏界面,左侧显示原始文档,右侧显示提取内容
3. THE 系统 SHALL 高亮显示存在问题的字段
4. THE 系统 SHALL 支持用户直接编辑字段内容
5. THE 系统 SHALL 在用户修改后自动标记为"已人工校验"
6. THE 系统 SHALL 记录修改历史和修改人
7. THE 系统 SHALL 提供"确认无误"和"需要重新提取"操作
8. WHEN 用户点击"确认无误" THEN THE 系统 SHALL 保存修正结果并进入数据比对流程
9. WHEN 用户点击"需要重新提取" THEN THE 系统 SHALL 重新触发提取任务
10. THE 系统 SHALL 在修正完成后自动更新合规性检查结果

### 需求 8: 数据比对结果展示

**用户故事:** 作为项目经理,我想要查看提取内容与生产管理系统数据的比对结果,以便发现执行偏差。

#### 验收标准

1. THE 系统 SHALL 展示数据比对结果面板,包含四个子模块
2. THE 系统 SHALL 展示项目金额与付款比对结果
3. WHEN 比对项目价格税率 THEN THE 系统 SHALL 显示是否一致
4. WHEN 比对付款进度 THEN THE 系统 SHALL 显示以下状态之一:付款进度正常、项目质控审核付款材料不齐、付款流程通过但未付款、已付款但超过付款期限
5. THE 系统 SHALL 支持设置付款预警时限
6. THE 系统 SHALL 展示项目进度对比结果
7. WHEN 对比当前环节的上一个环节 THEN THE 系统 SHALL 显示:正常、超过约定期限
8. THE 系统 SHALL 支持设置项目交付物归档预警时限
9. THE 系统 SHALL 展示交付成果比对结果
10. WHEN 对比当前环节的上一个环节交付物 THEN THE 系统 SHALL 显示:交付物齐全、交付物不齐全(风险提示)
11. THE 系统 SHALL 支持基于比对结果给出提取内容与生产数据的映射关系
12. THE 系统 SHALL 支持项目管理员手动建立映射关系
13. THE 系统 SHALL 展示人员要求比对结果
14. THE 系统 SHALL 检查建设期现场驻场人员数量是否达标
15. THE 系统 SHALL 检查建设期项目人员与投标材料中提报的项目人员是否一致
16. THE 系统 SHALL 检查运维期现场运维人员数量是否达标
17. THE 系统 SHALL 检查运维期项目人员与投标材料中提报的项目人员是否一致

### 需求 9: 预警输出与通知管理

**用户故事:** 作为项目经理,我想要及时收到项目预警通知,以便采取措施避免风险。

#### 验收标准

1. THE 系统 SHALL 展示预警管理界面,显示所有预警信息
2. THE 系统 SHALL 按预警级别分类显示:提醒、即将延期、已延期
3. WHEN 预警级别为"提醒" THEN THE 系统 SHALL 仅发送平台消息
4. WHEN 预警级别为"即将延期" THEN THE 系统 SHALL 发送平台消息和雅办公通知
5. WHEN 预警级别为"已延期" THEN THE 系统 SHALL 发送平台消息和雅办公通知
6. THE 系统 SHALL 为每条预警显示:预警类型、项目名称、预警内容、预警时间、处理状态
7. THE 系统 SHALL 支持用户标记预警为"已处理"或"忽略"
8. THE 系统 SHALL 支持筛选预警:按项目、按类型、按级别、按状态
9. THE 系统 SHALL 在顶部导航栏显示未处理预警数量徽章
10. THE 系统 SHALL 支持配置预警规则和通知方式
11. THE 系统 SHALL 支持导出预警报告
12. THE 系统 SHALL 记录预警处理历史

### 需求 10: 语义比对功能

**用户故事:** 作为质控人员,我想要系统能够智能比对交付物名称的语义相似度,以便识别名称不同但实质相同的交付物。

#### 验收标准

1. THE 系统 SHALL 对交付物名称进行语义比对
2. WHEN 两个交付物名称语义相似度超过 80% THEN THE 系统 SHALL 标记为"可能相同"
3. THE 系统 SHALL 显示语义相似度百分比
4. THE 系统 SHALL 支持用户确认"是同一交付物"或"不是同一交付物"
5. THE 系统 SHALL 学习用户的确认结果,优化后续比对
6. THE 系统 SHALL 支持手动建立交付物映射关系
7. THE 系统 SHALL 在比对结果中显示已建立的映射关系
8. THE 系统 SHALL 支持导出交付物映射表
9. THE 系统 SHALL 支持批量导入交付物映射关系
10. THE 系统 SHALL 在交付物比对时自动应用已建立的映射关系

